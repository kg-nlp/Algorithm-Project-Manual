---
sort: 2
---



# æ¡†æ¶ç¯å¢ƒ



* [ç®—æ³•å¼€å‘æ‰‹å†Œ](https://kg-nlp.github.io/Algorithm-Project-Manual)

* [ä¸ªäººçŸ¥ä¹](https://zhihu.com/people/zhangyj-n)



## Pytorch

### pytorch 1.7.0

> ç®—æ³•æ¡†æ¶çš„åŸºç¡€é•œåƒ

> è¿™ä¸ªç‰ˆæœ¬çš„cudaæ— æ³•æ»¡è¶³A800çš„æ˜¾å¡ä½¿ç”¨è¦æ±‚

```bash
docker run -it -d --name pytorch_env -p 8085:22 -p 8040:8040 -p 8030:8030 -p 8020:8020 --gpus all --shm-size 64g --restart=always pytorch/pytorch:1.7.0-cuda11.0-cudnn8-devel /bin/bash

apt-get update
apt-get install -y vim
apt-get install -y openssh-server
service ssh restart
root@b9d22b100490:/opt/conda/bin# ln -s /opt/conda/bin/python /usr/local/bin/python
root@b9d22b100490:/opt/conda/bin# ln -s /opt/conda/bin/pip /usr/local/bin/pip

```

> é‡æ–°commit ä»¥åŠå¯åŠ¨,å¯åŠ¨æ—¶æ³¨æ„å¤–æŒ‚æ•°æ®å·,ä»¥åŠå¤šæš´éœ²ç«¯å£

```bash
docker commit pytorch_env registry.cn-beijing.aliyuncs.com/zhangyj-n/pytorch:1.7.0-cuda11.0-cudnn8-devel

docker run -it -d --name pytorch_env -p 8085:22  -p 8040:8040 -p 8030:8030 -p 8020:8020 -p 8010:8010 -p 8000:8000 \
-v /home/zhangyj/Algorithm_Frame:/home/Algorithm_Frame \
--shm-size 64g --restart=always --gpus all  -e NVIDIA_VISIBLE_DEVICES=all registry.cn-beijing.aliyuncs.com/zhangyj-n/pytorch:1.7.0-cuda11.0-cudnn8-devel /bin/bash
```



>  å¦‚æœç¼ºå°‘åŠ¨æ€åº“,å‚è€ƒå·¥ç¨‹å†…å®¹ [ğŸ”¨å¼€å‘é—®é¢˜](https://kg-nlp.github.io/Algorithm-Project-Manual/å·¥ç¨‹å†…å®¹/å¼€å‘é—®é¢˜.html)

```bash
ç¤ºä¾‹:
find / -name libcudart.so.10.2
/usr/local/cuda-10.2/targets/x86_64-linux/lib/libcudart.so.10.2
æ‹·è´è‡³ /usr/lib/ 
```



### pytorch 1.13.0

* smpæ¯”èµ›é•œåƒåˆ¶ä½œ,customç¯å¢ƒ

```bash
registry.cn-beijing.aliyuncs.com/zhangyj-n/pytorch:1.13.0-cuda11.0-cudnn8-simple

docker exec -it smp_env bash  # è¿›å…¥å®¹å™¨
apt-get update
apt-get install -y vim
apt-get install -y openssh-server  # å®‰è£…sshæœåŠ¡
vi /etc/ssh/sshd_config  # ä¿®æ”¹sshé…ç½®æ–‡ä»¶å¦‚ä¸‹(å…¨éƒ¨æ›¿æ¢)
ggdG
"""
ChallengeResponseAuthentication no
UsePAM yes
X11Forwarding yes
PrintMotd no
AcceptEnv LANG LC_*
Subsystem    sftp    /usr/lib/openssh/sftp-server
PubkeyAuthentication yes
RSAAuthentication yes
PermitRootLogin yes
"""

service ssh restart  # å¯åŠ¨
passwd root  # ä¿®æ”¹å¯†ç 
root
cat /etc/passwd

root@b9d22b100490:/opt/conda/bin# ln -s /opt/conda/bin/python /usr/local/bin/python
root@b9d22b100490:/opt/conda/bin# ln -s /opt/conda/bin/pip /usr/local/bin/pip

which python  # æŸ¥æ‰¾pythonè§£æå™¨è·¯å¾„,ä½¿ç”¨pycharmè¿œç¨‹è¿æ¥æ—¶éœ€è¦

apt-get install curl -y
apt-get install zip -y
apt-get install unzip -y

ç”Ÿæˆæ–°é•œåƒ
docker commit -m 'update' registry.cn-beijing.aliyuncs.com/zhangyj-n/pytorch:1.13.0-cuda11.0-cudnn8-0823
```

> å·²å®‰è£…pip

```tex
transformers==4.31.0
modelscope==1.8.3
numpy==1.20.3
sentencepiece
torch==1.13.0
accelerate==0.21.0

python-docx==0.8.11
fastapi==0.101.1
openpyxl==3.1.2

elasticsearch==7.10.1
pymilvus==1.1.2
faiss-gpu==1.7.2
pdfplumber==0.10.2
pandas==2.0.3
```



> å¯åŠ¨

```bash
docker run -it -d --name custom_env \
-p 8015:22  -p 8001:8001 -p 8002:8002 -p 8003:8003 -p 8004:8004 -p 8005:8005 \
-v /data/zhangyj/custom_project:/workspace/custom_project \
--gpus all --shm-size 64g --restart=always \
-e NVIDIA_VISIBLE_DEVICES=all \
registry.cn-beijing.aliyuncs.com/zhangyj-n/pytorch:1.13.0-cuda11.0-cudnn8-0823 /bin/bash
```





## Paddle



* å¯è§†åŒ–æ—¥å¿—

```
```







## jupyter





















































